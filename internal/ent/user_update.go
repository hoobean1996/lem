// Code generated by ent, DO NOT EDIT.

package ent

import (
	"context"
	"errors"
	"fmt"
	"time"

	"entgo.io/ent/dialect/sql"
	"entgo.io/ent/dialect/sql/sqlgraph"
	"entgo.io/ent/schema/field"
	"gigaboo.io/lem/internal/ent/achievement"
	"gigaboo.io/lem/internal/ent/assignmentsubmission"
	"gigaboo.io/lem/internal/ent/battleroom"
	"gigaboo.io/lem/internal/ent/battlesession"
	"gigaboo.io/lem/internal/ent/classroom"
	"gigaboo.io/lem/internal/ent/classroommembership"
	"gigaboo.io/lem/internal/ent/classroomsession"
	"gigaboo.io/lem/internal/ent/livesession"
	"gigaboo.io/lem/internal/ent/livesessionstudent"
	"gigaboo.io/lem/internal/ent/organizationinvitation"
	"gigaboo.io/lem/internal/ent/organizationmember"
	"gigaboo.io/lem/internal/ent/predicate"
	"gigaboo.io/lem/internal/ent/shenbiprofile"
	"gigaboo.io/lem/internal/ent/shenbisettings"
	"gigaboo.io/lem/internal/ent/subscription"
	"gigaboo.io/lem/internal/ent/user"
	"gigaboo.io/lem/internal/ent/userapp"
	"gigaboo.io/lem/internal/ent/userprogress"
)

// UserUpdate is the builder for updating User entities.
type UserUpdate struct {
	config
	hooks    []Hook
	mutation *UserMutation
}

// Where appends a list predicates to the UserUpdate builder.
func (_u *UserUpdate) Where(ps ...predicate.User) *UserUpdate {
	_u.mutation.Where(ps...)
	return _u
}

// SetEmail sets the "email" field.
func (_u *UserUpdate) SetEmail(v string) *UserUpdate {
	_u.mutation.SetEmail(v)
	return _u
}

// SetNillableEmail sets the "email" field if the given value is not nil.
func (_u *UserUpdate) SetNillableEmail(v *string) *UserUpdate {
	if v != nil {
		_u.SetEmail(*v)
	}
	return _u
}

// SetPasswordHash sets the "password_hash" field.
func (_u *UserUpdate) SetPasswordHash(v string) *UserUpdate {
	_u.mutation.SetPasswordHash(v)
	return _u
}

// SetNillablePasswordHash sets the "password_hash" field if the given value is not nil.
func (_u *UserUpdate) SetNillablePasswordHash(v *string) *UserUpdate {
	if v != nil {
		_u.SetPasswordHash(*v)
	}
	return _u
}

// ClearPasswordHash clears the value of the "password_hash" field.
func (_u *UserUpdate) ClearPasswordHash() *UserUpdate {
	_u.mutation.ClearPasswordHash()
	return _u
}

// SetName sets the "name" field.
func (_u *UserUpdate) SetName(v string) *UserUpdate {
	_u.mutation.SetName(v)
	return _u
}

// SetNillableName sets the "name" field if the given value is not nil.
func (_u *UserUpdate) SetNillableName(v *string) *UserUpdate {
	if v != nil {
		_u.SetName(*v)
	}
	return _u
}

// ClearName clears the value of the "name" field.
func (_u *UserUpdate) ClearName() *UserUpdate {
	_u.mutation.ClearName()
	return _u
}

// SetAvatarURL sets the "avatar_url" field.
func (_u *UserUpdate) SetAvatarURL(v string) *UserUpdate {
	_u.mutation.SetAvatarURL(v)
	return _u
}

// SetNillableAvatarURL sets the "avatar_url" field if the given value is not nil.
func (_u *UserUpdate) SetNillableAvatarURL(v *string) *UserUpdate {
	if v != nil {
		_u.SetAvatarURL(*v)
	}
	return _u
}

// ClearAvatarURL clears the value of the "avatar_url" field.
func (_u *UserUpdate) ClearAvatarURL() *UserUpdate {
	_u.mutation.ClearAvatarURL()
	return _u
}

// SetDeviceID sets the "device_id" field.
func (_u *UserUpdate) SetDeviceID(v string) *UserUpdate {
	_u.mutation.SetDeviceID(v)
	return _u
}

// SetNillableDeviceID sets the "device_id" field if the given value is not nil.
func (_u *UserUpdate) SetNillableDeviceID(v *string) *UserUpdate {
	if v != nil {
		_u.SetDeviceID(*v)
	}
	return _u
}

// ClearDeviceID clears the value of the "device_id" field.
func (_u *UserUpdate) ClearDeviceID() *UserUpdate {
	_u.mutation.ClearDeviceID()
	return _u
}

// SetGoogleID sets the "google_id" field.
func (_u *UserUpdate) SetGoogleID(v string) *UserUpdate {
	_u.mutation.SetGoogleID(v)
	return _u
}

// SetNillableGoogleID sets the "google_id" field if the given value is not nil.
func (_u *UserUpdate) SetNillableGoogleID(v *string) *UserUpdate {
	if v != nil {
		_u.SetGoogleID(*v)
	}
	return _u
}

// ClearGoogleID clears the value of the "google_id" field.
func (_u *UserUpdate) ClearGoogleID() *UserUpdate {
	_u.mutation.ClearGoogleID()
	return _u
}

// SetAppleID sets the "apple_id" field.
func (_u *UserUpdate) SetAppleID(v string) *UserUpdate {
	_u.mutation.SetAppleID(v)
	return _u
}

// SetNillableAppleID sets the "apple_id" field if the given value is not nil.
func (_u *UserUpdate) SetNillableAppleID(v *string) *UserUpdate {
	if v != nil {
		_u.SetAppleID(*v)
	}
	return _u
}

// ClearAppleID clears the value of the "apple_id" field.
func (_u *UserUpdate) ClearAppleID() *UserUpdate {
	_u.mutation.ClearAppleID()
	return _u
}

// SetGoogleAccessToken sets the "google_access_token" field.
func (_u *UserUpdate) SetGoogleAccessToken(v string) *UserUpdate {
	_u.mutation.SetGoogleAccessToken(v)
	return _u
}

// SetNillableGoogleAccessToken sets the "google_access_token" field if the given value is not nil.
func (_u *UserUpdate) SetNillableGoogleAccessToken(v *string) *UserUpdate {
	if v != nil {
		_u.SetGoogleAccessToken(*v)
	}
	return _u
}

// ClearGoogleAccessToken clears the value of the "google_access_token" field.
func (_u *UserUpdate) ClearGoogleAccessToken() *UserUpdate {
	_u.mutation.ClearGoogleAccessToken()
	return _u
}

// SetGoogleRefreshToken sets the "google_refresh_token" field.
func (_u *UserUpdate) SetGoogleRefreshToken(v string) *UserUpdate {
	_u.mutation.SetGoogleRefreshToken(v)
	return _u
}

// SetNillableGoogleRefreshToken sets the "google_refresh_token" field if the given value is not nil.
func (_u *UserUpdate) SetNillableGoogleRefreshToken(v *string) *UserUpdate {
	if v != nil {
		_u.SetGoogleRefreshToken(*v)
	}
	return _u
}

// ClearGoogleRefreshToken clears the value of the "google_refresh_token" field.
func (_u *UserUpdate) ClearGoogleRefreshToken() *UserUpdate {
	_u.mutation.ClearGoogleRefreshToken()
	return _u
}

// SetGoogleTokenExpiresAt sets the "google_token_expires_at" field.
func (_u *UserUpdate) SetGoogleTokenExpiresAt(v time.Time) *UserUpdate {
	_u.mutation.SetGoogleTokenExpiresAt(v)
	return _u
}

// SetNillableGoogleTokenExpiresAt sets the "google_token_expires_at" field if the given value is not nil.
func (_u *UserUpdate) SetNillableGoogleTokenExpiresAt(v *time.Time) *UserUpdate {
	if v != nil {
		_u.SetGoogleTokenExpiresAt(*v)
	}
	return _u
}

// ClearGoogleTokenExpiresAt clears the value of the "google_token_expires_at" field.
func (_u *UserUpdate) ClearGoogleTokenExpiresAt() *UserUpdate {
	_u.mutation.ClearGoogleTokenExpiresAt()
	return _u
}

// SetIsActive sets the "is_active" field.
func (_u *UserUpdate) SetIsActive(v bool) *UserUpdate {
	_u.mutation.SetIsActive(v)
	return _u
}

// SetNillableIsActive sets the "is_active" field if the given value is not nil.
func (_u *UserUpdate) SetNillableIsActive(v *bool) *UserUpdate {
	if v != nil {
		_u.SetIsActive(*v)
	}
	return _u
}

// SetIsVerified sets the "is_verified" field.
func (_u *UserUpdate) SetIsVerified(v bool) *UserUpdate {
	_u.mutation.SetIsVerified(v)
	return _u
}

// SetNillableIsVerified sets the "is_verified" field if the given value is not nil.
func (_u *UserUpdate) SetNillableIsVerified(v *bool) *UserUpdate {
	if v != nil {
		_u.SetIsVerified(*v)
	}
	return _u
}

// SetExtraData sets the "extra_data" field.
func (_u *UserUpdate) SetExtraData(v map[string]interface{}) *UserUpdate {
	_u.mutation.SetExtraData(v)
	return _u
}

// ClearExtraData clears the value of the "extra_data" field.
func (_u *UserUpdate) ClearExtraData() *UserUpdate {
	_u.mutation.ClearExtraData()
	return _u
}

// SetUpdatedAt sets the "updated_at" field.
func (_u *UserUpdate) SetUpdatedAt(v time.Time) *UserUpdate {
	_u.mutation.SetUpdatedAt(v)
	return _u
}

// SetLastLoginAt sets the "last_login_at" field.
func (_u *UserUpdate) SetLastLoginAt(v time.Time) *UserUpdate {
	_u.mutation.SetLastLoginAt(v)
	return _u
}

// SetNillableLastLoginAt sets the "last_login_at" field if the given value is not nil.
func (_u *UserUpdate) SetNillableLastLoginAt(v *time.Time) *UserUpdate {
	if v != nil {
		_u.SetLastLoginAt(*v)
	}
	return _u
}

// ClearLastLoginAt clears the value of the "last_login_at" field.
func (_u *UserUpdate) ClearLastLoginAt() *UserUpdate {
	_u.mutation.ClearLastLoginAt()
	return _u
}

// AddUserAppIDs adds the "user_apps" edge to the UserApp entity by IDs.
func (_u *UserUpdate) AddUserAppIDs(ids ...int) *UserUpdate {
	_u.mutation.AddUserAppIDs(ids...)
	return _u
}

// AddUserApps adds the "user_apps" edges to the UserApp entity.
func (_u *UserUpdate) AddUserApps(v ...*UserApp) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddUserAppIDs(ids...)
}

// AddOrganizationMembershipIDs adds the "organization_memberships" edge to the OrganizationMember entity by IDs.
func (_u *UserUpdate) AddOrganizationMembershipIDs(ids ...int) *UserUpdate {
	_u.mutation.AddOrganizationMembershipIDs(ids...)
	return _u
}

// AddOrganizationMemberships adds the "organization_memberships" edges to the OrganizationMember entity.
func (_u *UserUpdate) AddOrganizationMemberships(v ...*OrganizationMember) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddOrganizationMembershipIDs(ids...)
}

// AddSubscriptionIDs adds the "subscriptions" edge to the Subscription entity by IDs.
func (_u *UserUpdate) AddSubscriptionIDs(ids ...int) *UserUpdate {
	_u.mutation.AddSubscriptionIDs(ids...)
	return _u
}

// AddSubscriptions adds the "subscriptions" edges to the Subscription entity.
func (_u *UserUpdate) AddSubscriptions(v ...*Subscription) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddSubscriptionIDs(ids...)
}

// SetShenbiProfileID sets the "shenbi_profile" edge to the ShenbiProfile entity by ID.
func (_u *UserUpdate) SetShenbiProfileID(id int) *UserUpdate {
	_u.mutation.SetShenbiProfileID(id)
	return _u
}

// SetNillableShenbiProfileID sets the "shenbi_profile" edge to the ShenbiProfile entity by ID if the given value is not nil.
func (_u *UserUpdate) SetNillableShenbiProfileID(id *int) *UserUpdate {
	if id != nil {
		_u = _u.SetShenbiProfileID(*id)
	}
	return _u
}

// SetShenbiProfile sets the "shenbi_profile" edge to the ShenbiProfile entity.
func (_u *UserUpdate) SetShenbiProfile(v *ShenbiProfile) *UserUpdate {
	return _u.SetShenbiProfileID(v.ID)
}

// AddClassroomsTeachingIDs adds the "classrooms_teaching" edge to the Classroom entity by IDs.
func (_u *UserUpdate) AddClassroomsTeachingIDs(ids ...int) *UserUpdate {
	_u.mutation.AddClassroomsTeachingIDs(ids...)
	return _u
}

// AddClassroomsTeaching adds the "classrooms_teaching" edges to the Classroom entity.
func (_u *UserUpdate) AddClassroomsTeaching(v ...*Classroom) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddClassroomsTeachingIDs(ids...)
}

// AddClassroomMembershipIDs adds the "classroom_memberships" edge to the ClassroomMembership entity by IDs.
func (_u *UserUpdate) AddClassroomMembershipIDs(ids ...int) *UserUpdate {
	_u.mutation.AddClassroomMembershipIDs(ids...)
	return _u
}

// AddClassroomMemberships adds the "classroom_memberships" edges to the ClassroomMembership entity.
func (_u *UserUpdate) AddClassroomMemberships(v ...*ClassroomMembership) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddClassroomMembershipIDs(ids...)
}

// AddAssignmentSubmissionIDs adds the "assignment_submissions" edge to the AssignmentSubmission entity by IDs.
func (_u *UserUpdate) AddAssignmentSubmissionIDs(ids ...int) *UserUpdate {
	_u.mutation.AddAssignmentSubmissionIDs(ids...)
	return _u
}

// AddAssignmentSubmissions adds the "assignment_submissions" edges to the AssignmentSubmission entity.
func (_u *UserUpdate) AddAssignmentSubmissions(v ...*AssignmentSubmission) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddAssignmentSubmissionIDs(ids...)
}

// AddUserProgresIDs adds the "user_progress" edge to the UserProgress entity by IDs.
func (_u *UserUpdate) AddUserProgresIDs(ids ...int) *UserUpdate {
	_u.mutation.AddUserProgresIDs(ids...)
	return _u
}

// AddUserProgress adds the "user_progress" edges to the UserProgress entity.
func (_u *UserUpdate) AddUserProgress(v ...*UserProgress) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddUserProgresIDs(ids...)
}

// AddAchievementIDs adds the "achievements" edge to the Achievement entity by IDs.
func (_u *UserUpdate) AddAchievementIDs(ids ...int) *UserUpdate {
	_u.mutation.AddAchievementIDs(ids...)
	return _u
}

// AddAchievements adds the "achievements" edges to the Achievement entity.
func (_u *UserUpdate) AddAchievements(v ...*Achievement) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddAchievementIDs(ids...)
}

// AddBattleRoomsHostedIDs adds the "battle_rooms_hosted" edge to the BattleRoom entity by IDs.
func (_u *UserUpdate) AddBattleRoomsHostedIDs(ids ...int) *UserUpdate {
	_u.mutation.AddBattleRoomsHostedIDs(ids...)
	return _u
}

// AddBattleRoomsHosted adds the "battle_rooms_hosted" edges to the BattleRoom entity.
func (_u *UserUpdate) AddBattleRoomsHosted(v ...*BattleRoom) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddBattleRoomsHostedIDs(ids...)
}

// AddBattleSessionIDs adds the "battle_sessions" edge to the BattleSession entity by IDs.
func (_u *UserUpdate) AddBattleSessionIDs(ids ...int) *UserUpdate {
	_u.mutation.AddBattleSessionIDs(ids...)
	return _u
}

// AddBattleSessions adds the "battle_sessions" edges to the BattleSession entity.
func (_u *UserUpdate) AddBattleSessions(v ...*BattleSession) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddBattleSessionIDs(ids...)
}

// AddLiveSessionsTeachingIDs adds the "live_sessions_teaching" edge to the LiveSession entity by IDs.
func (_u *UserUpdate) AddLiveSessionsTeachingIDs(ids ...int) *UserUpdate {
	_u.mutation.AddLiveSessionsTeachingIDs(ids...)
	return _u
}

// AddLiveSessionsTeaching adds the "live_sessions_teaching" edges to the LiveSession entity.
func (_u *UserUpdate) AddLiveSessionsTeaching(v ...*LiveSession) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddLiveSessionsTeachingIDs(ids...)
}

// AddLiveSessionParticipationIDs adds the "live_session_participations" edge to the LiveSessionStudent entity by IDs.
func (_u *UserUpdate) AddLiveSessionParticipationIDs(ids ...int) *UserUpdate {
	_u.mutation.AddLiveSessionParticipationIDs(ids...)
	return _u
}

// AddLiveSessionParticipations adds the "live_session_participations" edges to the LiveSessionStudent entity.
func (_u *UserUpdate) AddLiveSessionParticipations(v ...*LiveSessionStudent) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddLiveSessionParticipationIDs(ids...)
}

// AddClassroomSessionIDs adds the "classroom_sessions" edge to the ClassroomSession entity by IDs.
func (_u *UserUpdate) AddClassroomSessionIDs(ids ...int) *UserUpdate {
	_u.mutation.AddClassroomSessionIDs(ids...)
	return _u
}

// AddClassroomSessions adds the "classroom_sessions" edges to the ClassroomSession entity.
func (_u *UserUpdate) AddClassroomSessions(v ...*ClassroomSession) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddClassroomSessionIDs(ids...)
}

// SetShenbiSettingsID sets the "shenbi_settings" edge to the ShenbiSettings entity by ID.
func (_u *UserUpdate) SetShenbiSettingsID(id int) *UserUpdate {
	_u.mutation.SetShenbiSettingsID(id)
	return _u
}

// SetNillableShenbiSettingsID sets the "shenbi_settings" edge to the ShenbiSettings entity by ID if the given value is not nil.
func (_u *UserUpdate) SetNillableShenbiSettingsID(id *int) *UserUpdate {
	if id != nil {
		_u = _u.SetShenbiSettingsID(*id)
	}
	return _u
}

// SetShenbiSettings sets the "shenbi_settings" edge to the ShenbiSettings entity.
func (_u *UserUpdate) SetShenbiSettings(v *ShenbiSettings) *UserUpdate {
	return _u.SetShenbiSettingsID(v.ID)
}

// AddSentInvitationIDs adds the "sent_invitations" edge to the OrganizationInvitation entity by IDs.
func (_u *UserUpdate) AddSentInvitationIDs(ids ...int) *UserUpdate {
	_u.mutation.AddSentInvitationIDs(ids...)
	return _u
}

// AddSentInvitations adds the "sent_invitations" edges to the OrganizationInvitation entity.
func (_u *UserUpdate) AddSentInvitations(v ...*OrganizationInvitation) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddSentInvitationIDs(ids...)
}

// Mutation returns the UserMutation object of the builder.
func (_u *UserUpdate) Mutation() *UserMutation {
	return _u.mutation
}

// ClearUserApps clears all "user_apps" edges to the UserApp entity.
func (_u *UserUpdate) ClearUserApps() *UserUpdate {
	_u.mutation.ClearUserApps()
	return _u
}

// RemoveUserAppIDs removes the "user_apps" edge to UserApp entities by IDs.
func (_u *UserUpdate) RemoveUserAppIDs(ids ...int) *UserUpdate {
	_u.mutation.RemoveUserAppIDs(ids...)
	return _u
}

// RemoveUserApps removes "user_apps" edges to UserApp entities.
func (_u *UserUpdate) RemoveUserApps(v ...*UserApp) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveUserAppIDs(ids...)
}

// ClearOrganizationMemberships clears all "organization_memberships" edges to the OrganizationMember entity.
func (_u *UserUpdate) ClearOrganizationMemberships() *UserUpdate {
	_u.mutation.ClearOrganizationMemberships()
	return _u
}

// RemoveOrganizationMembershipIDs removes the "organization_memberships" edge to OrganizationMember entities by IDs.
func (_u *UserUpdate) RemoveOrganizationMembershipIDs(ids ...int) *UserUpdate {
	_u.mutation.RemoveOrganizationMembershipIDs(ids...)
	return _u
}

// RemoveOrganizationMemberships removes "organization_memberships" edges to OrganizationMember entities.
func (_u *UserUpdate) RemoveOrganizationMemberships(v ...*OrganizationMember) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveOrganizationMembershipIDs(ids...)
}

// ClearSubscriptions clears all "subscriptions" edges to the Subscription entity.
func (_u *UserUpdate) ClearSubscriptions() *UserUpdate {
	_u.mutation.ClearSubscriptions()
	return _u
}

// RemoveSubscriptionIDs removes the "subscriptions" edge to Subscription entities by IDs.
func (_u *UserUpdate) RemoveSubscriptionIDs(ids ...int) *UserUpdate {
	_u.mutation.RemoveSubscriptionIDs(ids...)
	return _u
}

// RemoveSubscriptions removes "subscriptions" edges to Subscription entities.
func (_u *UserUpdate) RemoveSubscriptions(v ...*Subscription) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveSubscriptionIDs(ids...)
}

// ClearShenbiProfile clears the "shenbi_profile" edge to the ShenbiProfile entity.
func (_u *UserUpdate) ClearShenbiProfile() *UserUpdate {
	_u.mutation.ClearShenbiProfile()
	return _u
}

// ClearClassroomsTeaching clears all "classrooms_teaching" edges to the Classroom entity.
func (_u *UserUpdate) ClearClassroomsTeaching() *UserUpdate {
	_u.mutation.ClearClassroomsTeaching()
	return _u
}

// RemoveClassroomsTeachingIDs removes the "classrooms_teaching" edge to Classroom entities by IDs.
func (_u *UserUpdate) RemoveClassroomsTeachingIDs(ids ...int) *UserUpdate {
	_u.mutation.RemoveClassroomsTeachingIDs(ids...)
	return _u
}

// RemoveClassroomsTeaching removes "classrooms_teaching" edges to Classroom entities.
func (_u *UserUpdate) RemoveClassroomsTeaching(v ...*Classroom) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveClassroomsTeachingIDs(ids...)
}

// ClearClassroomMemberships clears all "classroom_memberships" edges to the ClassroomMembership entity.
func (_u *UserUpdate) ClearClassroomMemberships() *UserUpdate {
	_u.mutation.ClearClassroomMemberships()
	return _u
}

// RemoveClassroomMembershipIDs removes the "classroom_memberships" edge to ClassroomMembership entities by IDs.
func (_u *UserUpdate) RemoveClassroomMembershipIDs(ids ...int) *UserUpdate {
	_u.mutation.RemoveClassroomMembershipIDs(ids...)
	return _u
}

// RemoveClassroomMemberships removes "classroom_memberships" edges to ClassroomMembership entities.
func (_u *UserUpdate) RemoveClassroomMemberships(v ...*ClassroomMembership) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveClassroomMembershipIDs(ids...)
}

// ClearAssignmentSubmissions clears all "assignment_submissions" edges to the AssignmentSubmission entity.
func (_u *UserUpdate) ClearAssignmentSubmissions() *UserUpdate {
	_u.mutation.ClearAssignmentSubmissions()
	return _u
}

// RemoveAssignmentSubmissionIDs removes the "assignment_submissions" edge to AssignmentSubmission entities by IDs.
func (_u *UserUpdate) RemoveAssignmentSubmissionIDs(ids ...int) *UserUpdate {
	_u.mutation.RemoveAssignmentSubmissionIDs(ids...)
	return _u
}

// RemoveAssignmentSubmissions removes "assignment_submissions" edges to AssignmentSubmission entities.
func (_u *UserUpdate) RemoveAssignmentSubmissions(v ...*AssignmentSubmission) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveAssignmentSubmissionIDs(ids...)
}

// ClearUserProgress clears all "user_progress" edges to the UserProgress entity.
func (_u *UserUpdate) ClearUserProgress() *UserUpdate {
	_u.mutation.ClearUserProgress()
	return _u
}

// RemoveUserProgresIDs removes the "user_progress" edge to UserProgress entities by IDs.
func (_u *UserUpdate) RemoveUserProgresIDs(ids ...int) *UserUpdate {
	_u.mutation.RemoveUserProgresIDs(ids...)
	return _u
}

// RemoveUserProgress removes "user_progress" edges to UserProgress entities.
func (_u *UserUpdate) RemoveUserProgress(v ...*UserProgress) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveUserProgresIDs(ids...)
}

// ClearAchievements clears all "achievements" edges to the Achievement entity.
func (_u *UserUpdate) ClearAchievements() *UserUpdate {
	_u.mutation.ClearAchievements()
	return _u
}

// RemoveAchievementIDs removes the "achievements" edge to Achievement entities by IDs.
func (_u *UserUpdate) RemoveAchievementIDs(ids ...int) *UserUpdate {
	_u.mutation.RemoveAchievementIDs(ids...)
	return _u
}

// RemoveAchievements removes "achievements" edges to Achievement entities.
func (_u *UserUpdate) RemoveAchievements(v ...*Achievement) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveAchievementIDs(ids...)
}

// ClearBattleRoomsHosted clears all "battle_rooms_hosted" edges to the BattleRoom entity.
func (_u *UserUpdate) ClearBattleRoomsHosted() *UserUpdate {
	_u.mutation.ClearBattleRoomsHosted()
	return _u
}

// RemoveBattleRoomsHostedIDs removes the "battle_rooms_hosted" edge to BattleRoom entities by IDs.
func (_u *UserUpdate) RemoveBattleRoomsHostedIDs(ids ...int) *UserUpdate {
	_u.mutation.RemoveBattleRoomsHostedIDs(ids...)
	return _u
}

// RemoveBattleRoomsHosted removes "battle_rooms_hosted" edges to BattleRoom entities.
func (_u *UserUpdate) RemoveBattleRoomsHosted(v ...*BattleRoom) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveBattleRoomsHostedIDs(ids...)
}

// ClearBattleSessions clears all "battle_sessions" edges to the BattleSession entity.
func (_u *UserUpdate) ClearBattleSessions() *UserUpdate {
	_u.mutation.ClearBattleSessions()
	return _u
}

// RemoveBattleSessionIDs removes the "battle_sessions" edge to BattleSession entities by IDs.
func (_u *UserUpdate) RemoveBattleSessionIDs(ids ...int) *UserUpdate {
	_u.mutation.RemoveBattleSessionIDs(ids...)
	return _u
}

// RemoveBattleSessions removes "battle_sessions" edges to BattleSession entities.
func (_u *UserUpdate) RemoveBattleSessions(v ...*BattleSession) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveBattleSessionIDs(ids...)
}

// ClearLiveSessionsTeaching clears all "live_sessions_teaching" edges to the LiveSession entity.
func (_u *UserUpdate) ClearLiveSessionsTeaching() *UserUpdate {
	_u.mutation.ClearLiveSessionsTeaching()
	return _u
}

// RemoveLiveSessionsTeachingIDs removes the "live_sessions_teaching" edge to LiveSession entities by IDs.
func (_u *UserUpdate) RemoveLiveSessionsTeachingIDs(ids ...int) *UserUpdate {
	_u.mutation.RemoveLiveSessionsTeachingIDs(ids...)
	return _u
}

// RemoveLiveSessionsTeaching removes "live_sessions_teaching" edges to LiveSession entities.
func (_u *UserUpdate) RemoveLiveSessionsTeaching(v ...*LiveSession) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveLiveSessionsTeachingIDs(ids...)
}

// ClearLiveSessionParticipations clears all "live_session_participations" edges to the LiveSessionStudent entity.
func (_u *UserUpdate) ClearLiveSessionParticipations() *UserUpdate {
	_u.mutation.ClearLiveSessionParticipations()
	return _u
}

// RemoveLiveSessionParticipationIDs removes the "live_session_participations" edge to LiveSessionStudent entities by IDs.
func (_u *UserUpdate) RemoveLiveSessionParticipationIDs(ids ...int) *UserUpdate {
	_u.mutation.RemoveLiveSessionParticipationIDs(ids...)
	return _u
}

// RemoveLiveSessionParticipations removes "live_session_participations" edges to LiveSessionStudent entities.
func (_u *UserUpdate) RemoveLiveSessionParticipations(v ...*LiveSessionStudent) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveLiveSessionParticipationIDs(ids...)
}

// ClearClassroomSessions clears all "classroom_sessions" edges to the ClassroomSession entity.
func (_u *UserUpdate) ClearClassroomSessions() *UserUpdate {
	_u.mutation.ClearClassroomSessions()
	return _u
}

// RemoveClassroomSessionIDs removes the "classroom_sessions" edge to ClassroomSession entities by IDs.
func (_u *UserUpdate) RemoveClassroomSessionIDs(ids ...int) *UserUpdate {
	_u.mutation.RemoveClassroomSessionIDs(ids...)
	return _u
}

// RemoveClassroomSessions removes "classroom_sessions" edges to ClassroomSession entities.
func (_u *UserUpdate) RemoveClassroomSessions(v ...*ClassroomSession) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveClassroomSessionIDs(ids...)
}

// ClearShenbiSettings clears the "shenbi_settings" edge to the ShenbiSettings entity.
func (_u *UserUpdate) ClearShenbiSettings() *UserUpdate {
	_u.mutation.ClearShenbiSettings()
	return _u
}

// ClearSentInvitations clears all "sent_invitations" edges to the OrganizationInvitation entity.
func (_u *UserUpdate) ClearSentInvitations() *UserUpdate {
	_u.mutation.ClearSentInvitations()
	return _u
}

// RemoveSentInvitationIDs removes the "sent_invitations" edge to OrganizationInvitation entities by IDs.
func (_u *UserUpdate) RemoveSentInvitationIDs(ids ...int) *UserUpdate {
	_u.mutation.RemoveSentInvitationIDs(ids...)
	return _u
}

// RemoveSentInvitations removes "sent_invitations" edges to OrganizationInvitation entities.
func (_u *UserUpdate) RemoveSentInvitations(v ...*OrganizationInvitation) *UserUpdate {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveSentInvitationIDs(ids...)
}

// Save executes the query and returns the number of nodes affected by the update operation.
func (_u *UserUpdate) Save(ctx context.Context) (int, error) {
	_u.defaults()
	return withHooks(ctx, _u.sqlSave, _u.mutation, _u.hooks)
}

// SaveX is like Save, but panics if an error occurs.
func (_u *UserUpdate) SaveX(ctx context.Context) int {
	affected, err := _u.Save(ctx)
	if err != nil {
		panic(err)
	}
	return affected
}

// Exec executes the query.
func (_u *UserUpdate) Exec(ctx context.Context) error {
	_, err := _u.Save(ctx)
	return err
}

// ExecX is like Exec, but panics if an error occurs.
func (_u *UserUpdate) ExecX(ctx context.Context) {
	if err := _u.Exec(ctx); err != nil {
		panic(err)
	}
}

// defaults sets the default values of the builder before save.
func (_u *UserUpdate) defaults() {
	if _, ok := _u.mutation.UpdatedAt(); !ok {
		v := user.UpdateDefaultUpdatedAt()
		_u.mutation.SetUpdatedAt(v)
	}
}

func (_u *UserUpdate) sqlSave(ctx context.Context) (_node int, err error) {
	_spec := sqlgraph.NewUpdateSpec(user.Table, user.Columns, sqlgraph.NewFieldSpec(user.FieldID, field.TypeInt))
	if ps := _u.mutation.predicates; len(ps) > 0 {
		_spec.Predicate = func(selector *sql.Selector) {
			for i := range ps {
				ps[i](selector)
			}
		}
	}
	if value, ok := _u.mutation.Email(); ok {
		_spec.SetField(user.FieldEmail, field.TypeString, value)
	}
	if value, ok := _u.mutation.PasswordHash(); ok {
		_spec.SetField(user.FieldPasswordHash, field.TypeString, value)
	}
	if _u.mutation.PasswordHashCleared() {
		_spec.ClearField(user.FieldPasswordHash, field.TypeString)
	}
	if value, ok := _u.mutation.Name(); ok {
		_spec.SetField(user.FieldName, field.TypeString, value)
	}
	if _u.mutation.NameCleared() {
		_spec.ClearField(user.FieldName, field.TypeString)
	}
	if value, ok := _u.mutation.AvatarURL(); ok {
		_spec.SetField(user.FieldAvatarURL, field.TypeString, value)
	}
	if _u.mutation.AvatarURLCleared() {
		_spec.ClearField(user.FieldAvatarURL, field.TypeString)
	}
	if value, ok := _u.mutation.DeviceID(); ok {
		_spec.SetField(user.FieldDeviceID, field.TypeString, value)
	}
	if _u.mutation.DeviceIDCleared() {
		_spec.ClearField(user.FieldDeviceID, field.TypeString)
	}
	if value, ok := _u.mutation.GoogleID(); ok {
		_spec.SetField(user.FieldGoogleID, field.TypeString, value)
	}
	if _u.mutation.GoogleIDCleared() {
		_spec.ClearField(user.FieldGoogleID, field.TypeString)
	}
	if value, ok := _u.mutation.AppleID(); ok {
		_spec.SetField(user.FieldAppleID, field.TypeString, value)
	}
	if _u.mutation.AppleIDCleared() {
		_spec.ClearField(user.FieldAppleID, field.TypeString)
	}
	if value, ok := _u.mutation.GoogleAccessToken(); ok {
		_spec.SetField(user.FieldGoogleAccessToken, field.TypeString, value)
	}
	if _u.mutation.GoogleAccessTokenCleared() {
		_spec.ClearField(user.FieldGoogleAccessToken, field.TypeString)
	}
	if value, ok := _u.mutation.GoogleRefreshToken(); ok {
		_spec.SetField(user.FieldGoogleRefreshToken, field.TypeString, value)
	}
	if _u.mutation.GoogleRefreshTokenCleared() {
		_spec.ClearField(user.FieldGoogleRefreshToken, field.TypeString)
	}
	if value, ok := _u.mutation.GoogleTokenExpiresAt(); ok {
		_spec.SetField(user.FieldGoogleTokenExpiresAt, field.TypeTime, value)
	}
	if _u.mutation.GoogleTokenExpiresAtCleared() {
		_spec.ClearField(user.FieldGoogleTokenExpiresAt, field.TypeTime)
	}
	if value, ok := _u.mutation.IsActive(); ok {
		_spec.SetField(user.FieldIsActive, field.TypeBool, value)
	}
	if value, ok := _u.mutation.IsVerified(); ok {
		_spec.SetField(user.FieldIsVerified, field.TypeBool, value)
	}
	if value, ok := _u.mutation.ExtraData(); ok {
		_spec.SetField(user.FieldExtraData, field.TypeJSON, value)
	}
	if _u.mutation.ExtraDataCleared() {
		_spec.ClearField(user.FieldExtraData, field.TypeJSON)
	}
	if value, ok := _u.mutation.UpdatedAt(); ok {
		_spec.SetField(user.FieldUpdatedAt, field.TypeTime, value)
	}
	if value, ok := _u.mutation.LastLoginAt(); ok {
		_spec.SetField(user.FieldLastLoginAt, field.TypeTime, value)
	}
	if _u.mutation.LastLoginAtCleared() {
		_spec.ClearField(user.FieldLastLoginAt, field.TypeTime)
	}
	if _u.mutation.UserAppsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.UserAppsTable,
			Columns: []string{user.UserAppsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(userapp.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedUserAppsIDs(); len(nodes) > 0 && !_u.mutation.UserAppsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.UserAppsTable,
			Columns: []string{user.UserAppsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(userapp.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.UserAppsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.UserAppsTable,
			Columns: []string{user.UserAppsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(userapp.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.OrganizationMembershipsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.OrganizationMembershipsTable,
			Columns: []string{user.OrganizationMembershipsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(organizationmember.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedOrganizationMembershipsIDs(); len(nodes) > 0 && !_u.mutation.OrganizationMembershipsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.OrganizationMembershipsTable,
			Columns: []string{user.OrganizationMembershipsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(organizationmember.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.OrganizationMembershipsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.OrganizationMembershipsTable,
			Columns: []string{user.OrganizationMembershipsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(organizationmember.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.SubscriptionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.SubscriptionsTable,
			Columns: []string{user.SubscriptionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(subscription.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedSubscriptionsIDs(); len(nodes) > 0 && !_u.mutation.SubscriptionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.SubscriptionsTable,
			Columns: []string{user.SubscriptionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(subscription.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.SubscriptionsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.SubscriptionsTable,
			Columns: []string{user.SubscriptionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(subscription.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.ShenbiProfileCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2O,
			Inverse: false,
			Table:   user.ShenbiProfileTable,
			Columns: []string{user.ShenbiProfileColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(shenbiprofile.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.ShenbiProfileIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2O,
			Inverse: false,
			Table:   user.ShenbiProfileTable,
			Columns: []string{user.ShenbiProfileColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(shenbiprofile.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.ClassroomsTeachingCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomsTeachingTable,
			Columns: []string{user.ClassroomsTeachingColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroom.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedClassroomsTeachingIDs(); len(nodes) > 0 && !_u.mutation.ClassroomsTeachingCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomsTeachingTable,
			Columns: []string{user.ClassroomsTeachingColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroom.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.ClassroomsTeachingIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomsTeachingTable,
			Columns: []string{user.ClassroomsTeachingColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroom.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.ClassroomMembershipsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomMembershipsTable,
			Columns: []string{user.ClassroomMembershipsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroommembership.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedClassroomMembershipsIDs(); len(nodes) > 0 && !_u.mutation.ClassroomMembershipsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomMembershipsTable,
			Columns: []string{user.ClassroomMembershipsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroommembership.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.ClassroomMembershipsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomMembershipsTable,
			Columns: []string{user.ClassroomMembershipsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroommembership.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.AssignmentSubmissionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.AssignmentSubmissionsTable,
			Columns: []string{user.AssignmentSubmissionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(assignmentsubmission.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedAssignmentSubmissionsIDs(); len(nodes) > 0 && !_u.mutation.AssignmentSubmissionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.AssignmentSubmissionsTable,
			Columns: []string{user.AssignmentSubmissionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(assignmentsubmission.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.AssignmentSubmissionsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.AssignmentSubmissionsTable,
			Columns: []string{user.AssignmentSubmissionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(assignmentsubmission.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.UserProgressCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.UserProgressTable,
			Columns: []string{user.UserProgressColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(userprogress.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedUserProgressIDs(); len(nodes) > 0 && !_u.mutation.UserProgressCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.UserProgressTable,
			Columns: []string{user.UserProgressColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(userprogress.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.UserProgressIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.UserProgressTable,
			Columns: []string{user.UserProgressColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(userprogress.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.AchievementsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.AchievementsTable,
			Columns: []string{user.AchievementsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(achievement.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedAchievementsIDs(); len(nodes) > 0 && !_u.mutation.AchievementsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.AchievementsTable,
			Columns: []string{user.AchievementsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(achievement.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.AchievementsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.AchievementsTable,
			Columns: []string{user.AchievementsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(achievement.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.BattleRoomsHostedCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.BattleRoomsHostedTable,
			Columns: []string{user.BattleRoomsHostedColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(battleroom.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedBattleRoomsHostedIDs(); len(nodes) > 0 && !_u.mutation.BattleRoomsHostedCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.BattleRoomsHostedTable,
			Columns: []string{user.BattleRoomsHostedColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(battleroom.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.BattleRoomsHostedIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.BattleRoomsHostedTable,
			Columns: []string{user.BattleRoomsHostedColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(battleroom.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.BattleSessionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.BattleSessionsTable,
			Columns: []string{user.BattleSessionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(battlesession.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedBattleSessionsIDs(); len(nodes) > 0 && !_u.mutation.BattleSessionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.BattleSessionsTable,
			Columns: []string{user.BattleSessionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(battlesession.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.BattleSessionsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.BattleSessionsTable,
			Columns: []string{user.BattleSessionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(battlesession.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.LiveSessionsTeachingCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.LiveSessionsTeachingTable,
			Columns: []string{user.LiveSessionsTeachingColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(livesession.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedLiveSessionsTeachingIDs(); len(nodes) > 0 && !_u.mutation.LiveSessionsTeachingCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.LiveSessionsTeachingTable,
			Columns: []string{user.LiveSessionsTeachingColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(livesession.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.LiveSessionsTeachingIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.LiveSessionsTeachingTable,
			Columns: []string{user.LiveSessionsTeachingColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(livesession.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.LiveSessionParticipationsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.LiveSessionParticipationsTable,
			Columns: []string{user.LiveSessionParticipationsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(livesessionstudent.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedLiveSessionParticipationsIDs(); len(nodes) > 0 && !_u.mutation.LiveSessionParticipationsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.LiveSessionParticipationsTable,
			Columns: []string{user.LiveSessionParticipationsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(livesessionstudent.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.LiveSessionParticipationsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.LiveSessionParticipationsTable,
			Columns: []string{user.LiveSessionParticipationsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(livesessionstudent.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.ClassroomSessionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomSessionsTable,
			Columns: []string{user.ClassroomSessionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroomsession.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedClassroomSessionsIDs(); len(nodes) > 0 && !_u.mutation.ClassroomSessionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomSessionsTable,
			Columns: []string{user.ClassroomSessionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroomsession.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.ClassroomSessionsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomSessionsTable,
			Columns: []string{user.ClassroomSessionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroomsession.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.ShenbiSettingsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2O,
			Inverse: false,
			Table:   user.ShenbiSettingsTable,
			Columns: []string{user.ShenbiSettingsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(shenbisettings.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.ShenbiSettingsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2O,
			Inverse: false,
			Table:   user.ShenbiSettingsTable,
			Columns: []string{user.ShenbiSettingsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(shenbisettings.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.SentInvitationsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.SentInvitationsTable,
			Columns: []string{user.SentInvitationsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(organizationinvitation.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedSentInvitationsIDs(); len(nodes) > 0 && !_u.mutation.SentInvitationsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.SentInvitationsTable,
			Columns: []string{user.SentInvitationsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(organizationinvitation.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.SentInvitationsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.SentInvitationsTable,
			Columns: []string{user.SentInvitationsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(organizationinvitation.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _node, err = sqlgraph.UpdateNodes(ctx, _u.driver, _spec); err != nil {
		if _, ok := err.(*sqlgraph.NotFoundError); ok {
			err = &NotFoundError{user.Label}
		} else if sqlgraph.IsConstraintError(err) {
			err = &ConstraintError{msg: err.Error(), wrap: err}
		}
		return 0, err
	}
	_u.mutation.done = true
	return _node, nil
}

// UserUpdateOne is the builder for updating a single User entity.
type UserUpdateOne struct {
	config
	fields   []string
	hooks    []Hook
	mutation *UserMutation
}

// SetEmail sets the "email" field.
func (_u *UserUpdateOne) SetEmail(v string) *UserUpdateOne {
	_u.mutation.SetEmail(v)
	return _u
}

// SetNillableEmail sets the "email" field if the given value is not nil.
func (_u *UserUpdateOne) SetNillableEmail(v *string) *UserUpdateOne {
	if v != nil {
		_u.SetEmail(*v)
	}
	return _u
}

// SetPasswordHash sets the "password_hash" field.
func (_u *UserUpdateOne) SetPasswordHash(v string) *UserUpdateOne {
	_u.mutation.SetPasswordHash(v)
	return _u
}

// SetNillablePasswordHash sets the "password_hash" field if the given value is not nil.
func (_u *UserUpdateOne) SetNillablePasswordHash(v *string) *UserUpdateOne {
	if v != nil {
		_u.SetPasswordHash(*v)
	}
	return _u
}

// ClearPasswordHash clears the value of the "password_hash" field.
func (_u *UserUpdateOne) ClearPasswordHash() *UserUpdateOne {
	_u.mutation.ClearPasswordHash()
	return _u
}

// SetName sets the "name" field.
func (_u *UserUpdateOne) SetName(v string) *UserUpdateOne {
	_u.mutation.SetName(v)
	return _u
}

// SetNillableName sets the "name" field if the given value is not nil.
func (_u *UserUpdateOne) SetNillableName(v *string) *UserUpdateOne {
	if v != nil {
		_u.SetName(*v)
	}
	return _u
}

// ClearName clears the value of the "name" field.
func (_u *UserUpdateOne) ClearName() *UserUpdateOne {
	_u.mutation.ClearName()
	return _u
}

// SetAvatarURL sets the "avatar_url" field.
func (_u *UserUpdateOne) SetAvatarURL(v string) *UserUpdateOne {
	_u.mutation.SetAvatarURL(v)
	return _u
}

// SetNillableAvatarURL sets the "avatar_url" field if the given value is not nil.
func (_u *UserUpdateOne) SetNillableAvatarURL(v *string) *UserUpdateOne {
	if v != nil {
		_u.SetAvatarURL(*v)
	}
	return _u
}

// ClearAvatarURL clears the value of the "avatar_url" field.
func (_u *UserUpdateOne) ClearAvatarURL() *UserUpdateOne {
	_u.mutation.ClearAvatarURL()
	return _u
}

// SetDeviceID sets the "device_id" field.
func (_u *UserUpdateOne) SetDeviceID(v string) *UserUpdateOne {
	_u.mutation.SetDeviceID(v)
	return _u
}

// SetNillableDeviceID sets the "device_id" field if the given value is not nil.
func (_u *UserUpdateOne) SetNillableDeviceID(v *string) *UserUpdateOne {
	if v != nil {
		_u.SetDeviceID(*v)
	}
	return _u
}

// ClearDeviceID clears the value of the "device_id" field.
func (_u *UserUpdateOne) ClearDeviceID() *UserUpdateOne {
	_u.mutation.ClearDeviceID()
	return _u
}

// SetGoogleID sets the "google_id" field.
func (_u *UserUpdateOne) SetGoogleID(v string) *UserUpdateOne {
	_u.mutation.SetGoogleID(v)
	return _u
}

// SetNillableGoogleID sets the "google_id" field if the given value is not nil.
func (_u *UserUpdateOne) SetNillableGoogleID(v *string) *UserUpdateOne {
	if v != nil {
		_u.SetGoogleID(*v)
	}
	return _u
}

// ClearGoogleID clears the value of the "google_id" field.
func (_u *UserUpdateOne) ClearGoogleID() *UserUpdateOne {
	_u.mutation.ClearGoogleID()
	return _u
}

// SetAppleID sets the "apple_id" field.
func (_u *UserUpdateOne) SetAppleID(v string) *UserUpdateOne {
	_u.mutation.SetAppleID(v)
	return _u
}

// SetNillableAppleID sets the "apple_id" field if the given value is not nil.
func (_u *UserUpdateOne) SetNillableAppleID(v *string) *UserUpdateOne {
	if v != nil {
		_u.SetAppleID(*v)
	}
	return _u
}

// ClearAppleID clears the value of the "apple_id" field.
func (_u *UserUpdateOne) ClearAppleID() *UserUpdateOne {
	_u.mutation.ClearAppleID()
	return _u
}

// SetGoogleAccessToken sets the "google_access_token" field.
func (_u *UserUpdateOne) SetGoogleAccessToken(v string) *UserUpdateOne {
	_u.mutation.SetGoogleAccessToken(v)
	return _u
}

// SetNillableGoogleAccessToken sets the "google_access_token" field if the given value is not nil.
func (_u *UserUpdateOne) SetNillableGoogleAccessToken(v *string) *UserUpdateOne {
	if v != nil {
		_u.SetGoogleAccessToken(*v)
	}
	return _u
}

// ClearGoogleAccessToken clears the value of the "google_access_token" field.
func (_u *UserUpdateOne) ClearGoogleAccessToken() *UserUpdateOne {
	_u.mutation.ClearGoogleAccessToken()
	return _u
}

// SetGoogleRefreshToken sets the "google_refresh_token" field.
func (_u *UserUpdateOne) SetGoogleRefreshToken(v string) *UserUpdateOne {
	_u.mutation.SetGoogleRefreshToken(v)
	return _u
}

// SetNillableGoogleRefreshToken sets the "google_refresh_token" field if the given value is not nil.
func (_u *UserUpdateOne) SetNillableGoogleRefreshToken(v *string) *UserUpdateOne {
	if v != nil {
		_u.SetGoogleRefreshToken(*v)
	}
	return _u
}

// ClearGoogleRefreshToken clears the value of the "google_refresh_token" field.
func (_u *UserUpdateOne) ClearGoogleRefreshToken() *UserUpdateOne {
	_u.mutation.ClearGoogleRefreshToken()
	return _u
}

// SetGoogleTokenExpiresAt sets the "google_token_expires_at" field.
func (_u *UserUpdateOne) SetGoogleTokenExpiresAt(v time.Time) *UserUpdateOne {
	_u.mutation.SetGoogleTokenExpiresAt(v)
	return _u
}

// SetNillableGoogleTokenExpiresAt sets the "google_token_expires_at" field if the given value is not nil.
func (_u *UserUpdateOne) SetNillableGoogleTokenExpiresAt(v *time.Time) *UserUpdateOne {
	if v != nil {
		_u.SetGoogleTokenExpiresAt(*v)
	}
	return _u
}

// ClearGoogleTokenExpiresAt clears the value of the "google_token_expires_at" field.
func (_u *UserUpdateOne) ClearGoogleTokenExpiresAt() *UserUpdateOne {
	_u.mutation.ClearGoogleTokenExpiresAt()
	return _u
}

// SetIsActive sets the "is_active" field.
func (_u *UserUpdateOne) SetIsActive(v bool) *UserUpdateOne {
	_u.mutation.SetIsActive(v)
	return _u
}

// SetNillableIsActive sets the "is_active" field if the given value is not nil.
func (_u *UserUpdateOne) SetNillableIsActive(v *bool) *UserUpdateOne {
	if v != nil {
		_u.SetIsActive(*v)
	}
	return _u
}

// SetIsVerified sets the "is_verified" field.
func (_u *UserUpdateOne) SetIsVerified(v bool) *UserUpdateOne {
	_u.mutation.SetIsVerified(v)
	return _u
}

// SetNillableIsVerified sets the "is_verified" field if the given value is not nil.
func (_u *UserUpdateOne) SetNillableIsVerified(v *bool) *UserUpdateOne {
	if v != nil {
		_u.SetIsVerified(*v)
	}
	return _u
}

// SetExtraData sets the "extra_data" field.
func (_u *UserUpdateOne) SetExtraData(v map[string]interface{}) *UserUpdateOne {
	_u.mutation.SetExtraData(v)
	return _u
}

// ClearExtraData clears the value of the "extra_data" field.
func (_u *UserUpdateOne) ClearExtraData() *UserUpdateOne {
	_u.mutation.ClearExtraData()
	return _u
}

// SetUpdatedAt sets the "updated_at" field.
func (_u *UserUpdateOne) SetUpdatedAt(v time.Time) *UserUpdateOne {
	_u.mutation.SetUpdatedAt(v)
	return _u
}

// SetLastLoginAt sets the "last_login_at" field.
func (_u *UserUpdateOne) SetLastLoginAt(v time.Time) *UserUpdateOne {
	_u.mutation.SetLastLoginAt(v)
	return _u
}

// SetNillableLastLoginAt sets the "last_login_at" field if the given value is not nil.
func (_u *UserUpdateOne) SetNillableLastLoginAt(v *time.Time) *UserUpdateOne {
	if v != nil {
		_u.SetLastLoginAt(*v)
	}
	return _u
}

// ClearLastLoginAt clears the value of the "last_login_at" field.
func (_u *UserUpdateOne) ClearLastLoginAt() *UserUpdateOne {
	_u.mutation.ClearLastLoginAt()
	return _u
}

// AddUserAppIDs adds the "user_apps" edge to the UserApp entity by IDs.
func (_u *UserUpdateOne) AddUserAppIDs(ids ...int) *UserUpdateOne {
	_u.mutation.AddUserAppIDs(ids...)
	return _u
}

// AddUserApps adds the "user_apps" edges to the UserApp entity.
func (_u *UserUpdateOne) AddUserApps(v ...*UserApp) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddUserAppIDs(ids...)
}

// AddOrganizationMembershipIDs adds the "organization_memberships" edge to the OrganizationMember entity by IDs.
func (_u *UserUpdateOne) AddOrganizationMembershipIDs(ids ...int) *UserUpdateOne {
	_u.mutation.AddOrganizationMembershipIDs(ids...)
	return _u
}

// AddOrganizationMemberships adds the "organization_memberships" edges to the OrganizationMember entity.
func (_u *UserUpdateOne) AddOrganizationMemberships(v ...*OrganizationMember) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddOrganizationMembershipIDs(ids...)
}

// AddSubscriptionIDs adds the "subscriptions" edge to the Subscription entity by IDs.
func (_u *UserUpdateOne) AddSubscriptionIDs(ids ...int) *UserUpdateOne {
	_u.mutation.AddSubscriptionIDs(ids...)
	return _u
}

// AddSubscriptions adds the "subscriptions" edges to the Subscription entity.
func (_u *UserUpdateOne) AddSubscriptions(v ...*Subscription) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddSubscriptionIDs(ids...)
}

// SetShenbiProfileID sets the "shenbi_profile" edge to the ShenbiProfile entity by ID.
func (_u *UserUpdateOne) SetShenbiProfileID(id int) *UserUpdateOne {
	_u.mutation.SetShenbiProfileID(id)
	return _u
}

// SetNillableShenbiProfileID sets the "shenbi_profile" edge to the ShenbiProfile entity by ID if the given value is not nil.
func (_u *UserUpdateOne) SetNillableShenbiProfileID(id *int) *UserUpdateOne {
	if id != nil {
		_u = _u.SetShenbiProfileID(*id)
	}
	return _u
}

// SetShenbiProfile sets the "shenbi_profile" edge to the ShenbiProfile entity.
func (_u *UserUpdateOne) SetShenbiProfile(v *ShenbiProfile) *UserUpdateOne {
	return _u.SetShenbiProfileID(v.ID)
}

// AddClassroomsTeachingIDs adds the "classrooms_teaching" edge to the Classroom entity by IDs.
func (_u *UserUpdateOne) AddClassroomsTeachingIDs(ids ...int) *UserUpdateOne {
	_u.mutation.AddClassroomsTeachingIDs(ids...)
	return _u
}

// AddClassroomsTeaching adds the "classrooms_teaching" edges to the Classroom entity.
func (_u *UserUpdateOne) AddClassroomsTeaching(v ...*Classroom) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddClassroomsTeachingIDs(ids...)
}

// AddClassroomMembershipIDs adds the "classroom_memberships" edge to the ClassroomMembership entity by IDs.
func (_u *UserUpdateOne) AddClassroomMembershipIDs(ids ...int) *UserUpdateOne {
	_u.mutation.AddClassroomMembershipIDs(ids...)
	return _u
}

// AddClassroomMemberships adds the "classroom_memberships" edges to the ClassroomMembership entity.
func (_u *UserUpdateOne) AddClassroomMemberships(v ...*ClassroomMembership) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddClassroomMembershipIDs(ids...)
}

// AddAssignmentSubmissionIDs adds the "assignment_submissions" edge to the AssignmentSubmission entity by IDs.
func (_u *UserUpdateOne) AddAssignmentSubmissionIDs(ids ...int) *UserUpdateOne {
	_u.mutation.AddAssignmentSubmissionIDs(ids...)
	return _u
}

// AddAssignmentSubmissions adds the "assignment_submissions" edges to the AssignmentSubmission entity.
func (_u *UserUpdateOne) AddAssignmentSubmissions(v ...*AssignmentSubmission) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddAssignmentSubmissionIDs(ids...)
}

// AddUserProgresIDs adds the "user_progress" edge to the UserProgress entity by IDs.
func (_u *UserUpdateOne) AddUserProgresIDs(ids ...int) *UserUpdateOne {
	_u.mutation.AddUserProgresIDs(ids...)
	return _u
}

// AddUserProgress adds the "user_progress" edges to the UserProgress entity.
func (_u *UserUpdateOne) AddUserProgress(v ...*UserProgress) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddUserProgresIDs(ids...)
}

// AddAchievementIDs adds the "achievements" edge to the Achievement entity by IDs.
func (_u *UserUpdateOne) AddAchievementIDs(ids ...int) *UserUpdateOne {
	_u.mutation.AddAchievementIDs(ids...)
	return _u
}

// AddAchievements adds the "achievements" edges to the Achievement entity.
func (_u *UserUpdateOne) AddAchievements(v ...*Achievement) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddAchievementIDs(ids...)
}

// AddBattleRoomsHostedIDs adds the "battle_rooms_hosted" edge to the BattleRoom entity by IDs.
func (_u *UserUpdateOne) AddBattleRoomsHostedIDs(ids ...int) *UserUpdateOne {
	_u.mutation.AddBattleRoomsHostedIDs(ids...)
	return _u
}

// AddBattleRoomsHosted adds the "battle_rooms_hosted" edges to the BattleRoom entity.
func (_u *UserUpdateOne) AddBattleRoomsHosted(v ...*BattleRoom) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddBattleRoomsHostedIDs(ids...)
}

// AddBattleSessionIDs adds the "battle_sessions" edge to the BattleSession entity by IDs.
func (_u *UserUpdateOne) AddBattleSessionIDs(ids ...int) *UserUpdateOne {
	_u.mutation.AddBattleSessionIDs(ids...)
	return _u
}

// AddBattleSessions adds the "battle_sessions" edges to the BattleSession entity.
func (_u *UserUpdateOne) AddBattleSessions(v ...*BattleSession) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddBattleSessionIDs(ids...)
}

// AddLiveSessionsTeachingIDs adds the "live_sessions_teaching" edge to the LiveSession entity by IDs.
func (_u *UserUpdateOne) AddLiveSessionsTeachingIDs(ids ...int) *UserUpdateOne {
	_u.mutation.AddLiveSessionsTeachingIDs(ids...)
	return _u
}

// AddLiveSessionsTeaching adds the "live_sessions_teaching" edges to the LiveSession entity.
func (_u *UserUpdateOne) AddLiveSessionsTeaching(v ...*LiveSession) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddLiveSessionsTeachingIDs(ids...)
}

// AddLiveSessionParticipationIDs adds the "live_session_participations" edge to the LiveSessionStudent entity by IDs.
func (_u *UserUpdateOne) AddLiveSessionParticipationIDs(ids ...int) *UserUpdateOne {
	_u.mutation.AddLiveSessionParticipationIDs(ids...)
	return _u
}

// AddLiveSessionParticipations adds the "live_session_participations" edges to the LiveSessionStudent entity.
func (_u *UserUpdateOne) AddLiveSessionParticipations(v ...*LiveSessionStudent) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddLiveSessionParticipationIDs(ids...)
}

// AddClassroomSessionIDs adds the "classroom_sessions" edge to the ClassroomSession entity by IDs.
func (_u *UserUpdateOne) AddClassroomSessionIDs(ids ...int) *UserUpdateOne {
	_u.mutation.AddClassroomSessionIDs(ids...)
	return _u
}

// AddClassroomSessions adds the "classroom_sessions" edges to the ClassroomSession entity.
func (_u *UserUpdateOne) AddClassroomSessions(v ...*ClassroomSession) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddClassroomSessionIDs(ids...)
}

// SetShenbiSettingsID sets the "shenbi_settings" edge to the ShenbiSettings entity by ID.
func (_u *UserUpdateOne) SetShenbiSettingsID(id int) *UserUpdateOne {
	_u.mutation.SetShenbiSettingsID(id)
	return _u
}

// SetNillableShenbiSettingsID sets the "shenbi_settings" edge to the ShenbiSettings entity by ID if the given value is not nil.
func (_u *UserUpdateOne) SetNillableShenbiSettingsID(id *int) *UserUpdateOne {
	if id != nil {
		_u = _u.SetShenbiSettingsID(*id)
	}
	return _u
}

// SetShenbiSettings sets the "shenbi_settings" edge to the ShenbiSettings entity.
func (_u *UserUpdateOne) SetShenbiSettings(v *ShenbiSettings) *UserUpdateOne {
	return _u.SetShenbiSettingsID(v.ID)
}

// AddSentInvitationIDs adds the "sent_invitations" edge to the OrganizationInvitation entity by IDs.
func (_u *UserUpdateOne) AddSentInvitationIDs(ids ...int) *UserUpdateOne {
	_u.mutation.AddSentInvitationIDs(ids...)
	return _u
}

// AddSentInvitations adds the "sent_invitations" edges to the OrganizationInvitation entity.
func (_u *UserUpdateOne) AddSentInvitations(v ...*OrganizationInvitation) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddSentInvitationIDs(ids...)
}

// Mutation returns the UserMutation object of the builder.
func (_u *UserUpdateOne) Mutation() *UserMutation {
	return _u.mutation
}

// ClearUserApps clears all "user_apps" edges to the UserApp entity.
func (_u *UserUpdateOne) ClearUserApps() *UserUpdateOne {
	_u.mutation.ClearUserApps()
	return _u
}

// RemoveUserAppIDs removes the "user_apps" edge to UserApp entities by IDs.
func (_u *UserUpdateOne) RemoveUserAppIDs(ids ...int) *UserUpdateOne {
	_u.mutation.RemoveUserAppIDs(ids...)
	return _u
}

// RemoveUserApps removes "user_apps" edges to UserApp entities.
func (_u *UserUpdateOne) RemoveUserApps(v ...*UserApp) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveUserAppIDs(ids...)
}

// ClearOrganizationMemberships clears all "organization_memberships" edges to the OrganizationMember entity.
func (_u *UserUpdateOne) ClearOrganizationMemberships() *UserUpdateOne {
	_u.mutation.ClearOrganizationMemberships()
	return _u
}

// RemoveOrganizationMembershipIDs removes the "organization_memberships" edge to OrganizationMember entities by IDs.
func (_u *UserUpdateOne) RemoveOrganizationMembershipIDs(ids ...int) *UserUpdateOne {
	_u.mutation.RemoveOrganizationMembershipIDs(ids...)
	return _u
}

// RemoveOrganizationMemberships removes "organization_memberships" edges to OrganizationMember entities.
func (_u *UserUpdateOne) RemoveOrganizationMemberships(v ...*OrganizationMember) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveOrganizationMembershipIDs(ids...)
}

// ClearSubscriptions clears all "subscriptions" edges to the Subscription entity.
func (_u *UserUpdateOne) ClearSubscriptions() *UserUpdateOne {
	_u.mutation.ClearSubscriptions()
	return _u
}

// RemoveSubscriptionIDs removes the "subscriptions" edge to Subscription entities by IDs.
func (_u *UserUpdateOne) RemoveSubscriptionIDs(ids ...int) *UserUpdateOne {
	_u.mutation.RemoveSubscriptionIDs(ids...)
	return _u
}

// RemoveSubscriptions removes "subscriptions" edges to Subscription entities.
func (_u *UserUpdateOne) RemoveSubscriptions(v ...*Subscription) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveSubscriptionIDs(ids...)
}

// ClearShenbiProfile clears the "shenbi_profile" edge to the ShenbiProfile entity.
func (_u *UserUpdateOne) ClearShenbiProfile() *UserUpdateOne {
	_u.mutation.ClearShenbiProfile()
	return _u
}

// ClearClassroomsTeaching clears all "classrooms_teaching" edges to the Classroom entity.
func (_u *UserUpdateOne) ClearClassroomsTeaching() *UserUpdateOne {
	_u.mutation.ClearClassroomsTeaching()
	return _u
}

// RemoveClassroomsTeachingIDs removes the "classrooms_teaching" edge to Classroom entities by IDs.
func (_u *UserUpdateOne) RemoveClassroomsTeachingIDs(ids ...int) *UserUpdateOne {
	_u.mutation.RemoveClassroomsTeachingIDs(ids...)
	return _u
}

// RemoveClassroomsTeaching removes "classrooms_teaching" edges to Classroom entities.
func (_u *UserUpdateOne) RemoveClassroomsTeaching(v ...*Classroom) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveClassroomsTeachingIDs(ids...)
}

// ClearClassroomMemberships clears all "classroom_memberships" edges to the ClassroomMembership entity.
func (_u *UserUpdateOne) ClearClassroomMemberships() *UserUpdateOne {
	_u.mutation.ClearClassroomMemberships()
	return _u
}

// RemoveClassroomMembershipIDs removes the "classroom_memberships" edge to ClassroomMembership entities by IDs.
func (_u *UserUpdateOne) RemoveClassroomMembershipIDs(ids ...int) *UserUpdateOne {
	_u.mutation.RemoveClassroomMembershipIDs(ids...)
	return _u
}

// RemoveClassroomMemberships removes "classroom_memberships" edges to ClassroomMembership entities.
func (_u *UserUpdateOne) RemoveClassroomMemberships(v ...*ClassroomMembership) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveClassroomMembershipIDs(ids...)
}

// ClearAssignmentSubmissions clears all "assignment_submissions" edges to the AssignmentSubmission entity.
func (_u *UserUpdateOne) ClearAssignmentSubmissions() *UserUpdateOne {
	_u.mutation.ClearAssignmentSubmissions()
	return _u
}

// RemoveAssignmentSubmissionIDs removes the "assignment_submissions" edge to AssignmentSubmission entities by IDs.
func (_u *UserUpdateOne) RemoveAssignmentSubmissionIDs(ids ...int) *UserUpdateOne {
	_u.mutation.RemoveAssignmentSubmissionIDs(ids...)
	return _u
}

// RemoveAssignmentSubmissions removes "assignment_submissions" edges to AssignmentSubmission entities.
func (_u *UserUpdateOne) RemoveAssignmentSubmissions(v ...*AssignmentSubmission) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveAssignmentSubmissionIDs(ids...)
}

// ClearUserProgress clears all "user_progress" edges to the UserProgress entity.
func (_u *UserUpdateOne) ClearUserProgress() *UserUpdateOne {
	_u.mutation.ClearUserProgress()
	return _u
}

// RemoveUserProgresIDs removes the "user_progress" edge to UserProgress entities by IDs.
func (_u *UserUpdateOne) RemoveUserProgresIDs(ids ...int) *UserUpdateOne {
	_u.mutation.RemoveUserProgresIDs(ids...)
	return _u
}

// RemoveUserProgress removes "user_progress" edges to UserProgress entities.
func (_u *UserUpdateOne) RemoveUserProgress(v ...*UserProgress) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveUserProgresIDs(ids...)
}

// ClearAchievements clears all "achievements" edges to the Achievement entity.
func (_u *UserUpdateOne) ClearAchievements() *UserUpdateOne {
	_u.mutation.ClearAchievements()
	return _u
}

// RemoveAchievementIDs removes the "achievements" edge to Achievement entities by IDs.
func (_u *UserUpdateOne) RemoveAchievementIDs(ids ...int) *UserUpdateOne {
	_u.mutation.RemoveAchievementIDs(ids...)
	return _u
}

// RemoveAchievements removes "achievements" edges to Achievement entities.
func (_u *UserUpdateOne) RemoveAchievements(v ...*Achievement) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveAchievementIDs(ids...)
}

// ClearBattleRoomsHosted clears all "battle_rooms_hosted" edges to the BattleRoom entity.
func (_u *UserUpdateOne) ClearBattleRoomsHosted() *UserUpdateOne {
	_u.mutation.ClearBattleRoomsHosted()
	return _u
}

// RemoveBattleRoomsHostedIDs removes the "battle_rooms_hosted" edge to BattleRoom entities by IDs.
func (_u *UserUpdateOne) RemoveBattleRoomsHostedIDs(ids ...int) *UserUpdateOne {
	_u.mutation.RemoveBattleRoomsHostedIDs(ids...)
	return _u
}

// RemoveBattleRoomsHosted removes "battle_rooms_hosted" edges to BattleRoom entities.
func (_u *UserUpdateOne) RemoveBattleRoomsHosted(v ...*BattleRoom) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveBattleRoomsHostedIDs(ids...)
}

// ClearBattleSessions clears all "battle_sessions" edges to the BattleSession entity.
func (_u *UserUpdateOne) ClearBattleSessions() *UserUpdateOne {
	_u.mutation.ClearBattleSessions()
	return _u
}

// RemoveBattleSessionIDs removes the "battle_sessions" edge to BattleSession entities by IDs.
func (_u *UserUpdateOne) RemoveBattleSessionIDs(ids ...int) *UserUpdateOne {
	_u.mutation.RemoveBattleSessionIDs(ids...)
	return _u
}

// RemoveBattleSessions removes "battle_sessions" edges to BattleSession entities.
func (_u *UserUpdateOne) RemoveBattleSessions(v ...*BattleSession) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveBattleSessionIDs(ids...)
}

// ClearLiveSessionsTeaching clears all "live_sessions_teaching" edges to the LiveSession entity.
func (_u *UserUpdateOne) ClearLiveSessionsTeaching() *UserUpdateOne {
	_u.mutation.ClearLiveSessionsTeaching()
	return _u
}

// RemoveLiveSessionsTeachingIDs removes the "live_sessions_teaching" edge to LiveSession entities by IDs.
func (_u *UserUpdateOne) RemoveLiveSessionsTeachingIDs(ids ...int) *UserUpdateOne {
	_u.mutation.RemoveLiveSessionsTeachingIDs(ids...)
	return _u
}

// RemoveLiveSessionsTeaching removes "live_sessions_teaching" edges to LiveSession entities.
func (_u *UserUpdateOne) RemoveLiveSessionsTeaching(v ...*LiveSession) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveLiveSessionsTeachingIDs(ids...)
}

// ClearLiveSessionParticipations clears all "live_session_participations" edges to the LiveSessionStudent entity.
func (_u *UserUpdateOne) ClearLiveSessionParticipations() *UserUpdateOne {
	_u.mutation.ClearLiveSessionParticipations()
	return _u
}

// RemoveLiveSessionParticipationIDs removes the "live_session_participations" edge to LiveSessionStudent entities by IDs.
func (_u *UserUpdateOne) RemoveLiveSessionParticipationIDs(ids ...int) *UserUpdateOne {
	_u.mutation.RemoveLiveSessionParticipationIDs(ids...)
	return _u
}

// RemoveLiveSessionParticipations removes "live_session_participations" edges to LiveSessionStudent entities.
func (_u *UserUpdateOne) RemoveLiveSessionParticipations(v ...*LiveSessionStudent) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveLiveSessionParticipationIDs(ids...)
}

// ClearClassroomSessions clears all "classroom_sessions" edges to the ClassroomSession entity.
func (_u *UserUpdateOne) ClearClassroomSessions() *UserUpdateOne {
	_u.mutation.ClearClassroomSessions()
	return _u
}

// RemoveClassroomSessionIDs removes the "classroom_sessions" edge to ClassroomSession entities by IDs.
func (_u *UserUpdateOne) RemoveClassroomSessionIDs(ids ...int) *UserUpdateOne {
	_u.mutation.RemoveClassroomSessionIDs(ids...)
	return _u
}

// RemoveClassroomSessions removes "classroom_sessions" edges to ClassroomSession entities.
func (_u *UserUpdateOne) RemoveClassroomSessions(v ...*ClassroomSession) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveClassroomSessionIDs(ids...)
}

// ClearShenbiSettings clears the "shenbi_settings" edge to the ShenbiSettings entity.
func (_u *UserUpdateOne) ClearShenbiSettings() *UserUpdateOne {
	_u.mutation.ClearShenbiSettings()
	return _u
}

// ClearSentInvitations clears all "sent_invitations" edges to the OrganizationInvitation entity.
func (_u *UserUpdateOne) ClearSentInvitations() *UserUpdateOne {
	_u.mutation.ClearSentInvitations()
	return _u
}

// RemoveSentInvitationIDs removes the "sent_invitations" edge to OrganizationInvitation entities by IDs.
func (_u *UserUpdateOne) RemoveSentInvitationIDs(ids ...int) *UserUpdateOne {
	_u.mutation.RemoveSentInvitationIDs(ids...)
	return _u
}

// RemoveSentInvitations removes "sent_invitations" edges to OrganizationInvitation entities.
func (_u *UserUpdateOne) RemoveSentInvitations(v ...*OrganizationInvitation) *UserUpdateOne {
	ids := make([]int, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveSentInvitationIDs(ids...)
}

// Where appends a list predicates to the UserUpdate builder.
func (_u *UserUpdateOne) Where(ps ...predicate.User) *UserUpdateOne {
	_u.mutation.Where(ps...)
	return _u
}

// Select allows selecting one or more fields (columns) of the returned entity.
// The default is selecting all fields defined in the entity schema.
func (_u *UserUpdateOne) Select(field string, fields ...string) *UserUpdateOne {
	_u.fields = append([]string{field}, fields...)
	return _u
}

// Save executes the query and returns the updated User entity.
func (_u *UserUpdateOne) Save(ctx context.Context) (*User, error) {
	_u.defaults()
	return withHooks(ctx, _u.sqlSave, _u.mutation, _u.hooks)
}

// SaveX is like Save, but panics if an error occurs.
func (_u *UserUpdateOne) SaveX(ctx context.Context) *User {
	node, err := _u.Save(ctx)
	if err != nil {
		panic(err)
	}
	return node
}

// Exec executes the query on the entity.
func (_u *UserUpdateOne) Exec(ctx context.Context) error {
	_, err := _u.Save(ctx)
	return err
}

// ExecX is like Exec, but panics if an error occurs.
func (_u *UserUpdateOne) ExecX(ctx context.Context) {
	if err := _u.Exec(ctx); err != nil {
		panic(err)
	}
}

// defaults sets the default values of the builder before save.
func (_u *UserUpdateOne) defaults() {
	if _, ok := _u.mutation.UpdatedAt(); !ok {
		v := user.UpdateDefaultUpdatedAt()
		_u.mutation.SetUpdatedAt(v)
	}
}

func (_u *UserUpdateOne) sqlSave(ctx context.Context) (_node *User, err error) {
	_spec := sqlgraph.NewUpdateSpec(user.Table, user.Columns, sqlgraph.NewFieldSpec(user.FieldID, field.TypeInt))
	id, ok := _u.mutation.ID()
	if !ok {
		return nil, &ValidationError{Name: "id", err: errors.New(`ent: missing "User.id" for update`)}
	}
	_spec.Node.ID.Value = id
	if fields := _u.fields; len(fields) > 0 {
		_spec.Node.Columns = make([]string, 0, len(fields))
		_spec.Node.Columns = append(_spec.Node.Columns, user.FieldID)
		for _, f := range fields {
			if !user.ValidColumn(f) {
				return nil, &ValidationError{Name: f, err: fmt.Errorf("ent: invalid field %q for query", f)}
			}
			if f != user.FieldID {
				_spec.Node.Columns = append(_spec.Node.Columns, f)
			}
		}
	}
	if ps := _u.mutation.predicates; len(ps) > 0 {
		_spec.Predicate = func(selector *sql.Selector) {
			for i := range ps {
				ps[i](selector)
			}
		}
	}
	if value, ok := _u.mutation.Email(); ok {
		_spec.SetField(user.FieldEmail, field.TypeString, value)
	}
	if value, ok := _u.mutation.PasswordHash(); ok {
		_spec.SetField(user.FieldPasswordHash, field.TypeString, value)
	}
	if _u.mutation.PasswordHashCleared() {
		_spec.ClearField(user.FieldPasswordHash, field.TypeString)
	}
	if value, ok := _u.mutation.Name(); ok {
		_spec.SetField(user.FieldName, field.TypeString, value)
	}
	if _u.mutation.NameCleared() {
		_spec.ClearField(user.FieldName, field.TypeString)
	}
	if value, ok := _u.mutation.AvatarURL(); ok {
		_spec.SetField(user.FieldAvatarURL, field.TypeString, value)
	}
	if _u.mutation.AvatarURLCleared() {
		_spec.ClearField(user.FieldAvatarURL, field.TypeString)
	}
	if value, ok := _u.mutation.DeviceID(); ok {
		_spec.SetField(user.FieldDeviceID, field.TypeString, value)
	}
	if _u.mutation.DeviceIDCleared() {
		_spec.ClearField(user.FieldDeviceID, field.TypeString)
	}
	if value, ok := _u.mutation.GoogleID(); ok {
		_spec.SetField(user.FieldGoogleID, field.TypeString, value)
	}
	if _u.mutation.GoogleIDCleared() {
		_spec.ClearField(user.FieldGoogleID, field.TypeString)
	}
	if value, ok := _u.mutation.AppleID(); ok {
		_spec.SetField(user.FieldAppleID, field.TypeString, value)
	}
	if _u.mutation.AppleIDCleared() {
		_spec.ClearField(user.FieldAppleID, field.TypeString)
	}
	if value, ok := _u.mutation.GoogleAccessToken(); ok {
		_spec.SetField(user.FieldGoogleAccessToken, field.TypeString, value)
	}
	if _u.mutation.GoogleAccessTokenCleared() {
		_spec.ClearField(user.FieldGoogleAccessToken, field.TypeString)
	}
	if value, ok := _u.mutation.GoogleRefreshToken(); ok {
		_spec.SetField(user.FieldGoogleRefreshToken, field.TypeString, value)
	}
	if _u.mutation.GoogleRefreshTokenCleared() {
		_spec.ClearField(user.FieldGoogleRefreshToken, field.TypeString)
	}
	if value, ok := _u.mutation.GoogleTokenExpiresAt(); ok {
		_spec.SetField(user.FieldGoogleTokenExpiresAt, field.TypeTime, value)
	}
	if _u.mutation.GoogleTokenExpiresAtCleared() {
		_spec.ClearField(user.FieldGoogleTokenExpiresAt, field.TypeTime)
	}
	if value, ok := _u.mutation.IsActive(); ok {
		_spec.SetField(user.FieldIsActive, field.TypeBool, value)
	}
	if value, ok := _u.mutation.IsVerified(); ok {
		_spec.SetField(user.FieldIsVerified, field.TypeBool, value)
	}
	if value, ok := _u.mutation.ExtraData(); ok {
		_spec.SetField(user.FieldExtraData, field.TypeJSON, value)
	}
	if _u.mutation.ExtraDataCleared() {
		_spec.ClearField(user.FieldExtraData, field.TypeJSON)
	}
	if value, ok := _u.mutation.UpdatedAt(); ok {
		_spec.SetField(user.FieldUpdatedAt, field.TypeTime, value)
	}
	if value, ok := _u.mutation.LastLoginAt(); ok {
		_spec.SetField(user.FieldLastLoginAt, field.TypeTime, value)
	}
	if _u.mutation.LastLoginAtCleared() {
		_spec.ClearField(user.FieldLastLoginAt, field.TypeTime)
	}
	if _u.mutation.UserAppsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.UserAppsTable,
			Columns: []string{user.UserAppsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(userapp.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedUserAppsIDs(); len(nodes) > 0 && !_u.mutation.UserAppsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.UserAppsTable,
			Columns: []string{user.UserAppsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(userapp.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.UserAppsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.UserAppsTable,
			Columns: []string{user.UserAppsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(userapp.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.OrganizationMembershipsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.OrganizationMembershipsTable,
			Columns: []string{user.OrganizationMembershipsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(organizationmember.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedOrganizationMembershipsIDs(); len(nodes) > 0 && !_u.mutation.OrganizationMembershipsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.OrganizationMembershipsTable,
			Columns: []string{user.OrganizationMembershipsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(organizationmember.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.OrganizationMembershipsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.OrganizationMembershipsTable,
			Columns: []string{user.OrganizationMembershipsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(organizationmember.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.SubscriptionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.SubscriptionsTable,
			Columns: []string{user.SubscriptionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(subscription.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedSubscriptionsIDs(); len(nodes) > 0 && !_u.mutation.SubscriptionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.SubscriptionsTable,
			Columns: []string{user.SubscriptionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(subscription.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.SubscriptionsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.SubscriptionsTable,
			Columns: []string{user.SubscriptionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(subscription.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.ShenbiProfileCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2O,
			Inverse: false,
			Table:   user.ShenbiProfileTable,
			Columns: []string{user.ShenbiProfileColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(shenbiprofile.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.ShenbiProfileIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2O,
			Inverse: false,
			Table:   user.ShenbiProfileTable,
			Columns: []string{user.ShenbiProfileColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(shenbiprofile.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.ClassroomsTeachingCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomsTeachingTable,
			Columns: []string{user.ClassroomsTeachingColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroom.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedClassroomsTeachingIDs(); len(nodes) > 0 && !_u.mutation.ClassroomsTeachingCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomsTeachingTable,
			Columns: []string{user.ClassroomsTeachingColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroom.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.ClassroomsTeachingIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomsTeachingTable,
			Columns: []string{user.ClassroomsTeachingColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroom.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.ClassroomMembershipsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomMembershipsTable,
			Columns: []string{user.ClassroomMembershipsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroommembership.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedClassroomMembershipsIDs(); len(nodes) > 0 && !_u.mutation.ClassroomMembershipsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomMembershipsTable,
			Columns: []string{user.ClassroomMembershipsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroommembership.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.ClassroomMembershipsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomMembershipsTable,
			Columns: []string{user.ClassroomMembershipsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroommembership.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.AssignmentSubmissionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.AssignmentSubmissionsTable,
			Columns: []string{user.AssignmentSubmissionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(assignmentsubmission.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedAssignmentSubmissionsIDs(); len(nodes) > 0 && !_u.mutation.AssignmentSubmissionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.AssignmentSubmissionsTable,
			Columns: []string{user.AssignmentSubmissionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(assignmentsubmission.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.AssignmentSubmissionsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.AssignmentSubmissionsTable,
			Columns: []string{user.AssignmentSubmissionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(assignmentsubmission.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.UserProgressCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.UserProgressTable,
			Columns: []string{user.UserProgressColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(userprogress.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedUserProgressIDs(); len(nodes) > 0 && !_u.mutation.UserProgressCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.UserProgressTable,
			Columns: []string{user.UserProgressColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(userprogress.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.UserProgressIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.UserProgressTable,
			Columns: []string{user.UserProgressColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(userprogress.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.AchievementsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.AchievementsTable,
			Columns: []string{user.AchievementsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(achievement.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedAchievementsIDs(); len(nodes) > 0 && !_u.mutation.AchievementsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.AchievementsTable,
			Columns: []string{user.AchievementsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(achievement.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.AchievementsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.AchievementsTable,
			Columns: []string{user.AchievementsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(achievement.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.BattleRoomsHostedCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.BattleRoomsHostedTable,
			Columns: []string{user.BattleRoomsHostedColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(battleroom.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedBattleRoomsHostedIDs(); len(nodes) > 0 && !_u.mutation.BattleRoomsHostedCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.BattleRoomsHostedTable,
			Columns: []string{user.BattleRoomsHostedColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(battleroom.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.BattleRoomsHostedIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.BattleRoomsHostedTable,
			Columns: []string{user.BattleRoomsHostedColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(battleroom.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.BattleSessionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.BattleSessionsTable,
			Columns: []string{user.BattleSessionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(battlesession.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedBattleSessionsIDs(); len(nodes) > 0 && !_u.mutation.BattleSessionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.BattleSessionsTable,
			Columns: []string{user.BattleSessionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(battlesession.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.BattleSessionsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.BattleSessionsTable,
			Columns: []string{user.BattleSessionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(battlesession.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.LiveSessionsTeachingCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.LiveSessionsTeachingTable,
			Columns: []string{user.LiveSessionsTeachingColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(livesession.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedLiveSessionsTeachingIDs(); len(nodes) > 0 && !_u.mutation.LiveSessionsTeachingCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.LiveSessionsTeachingTable,
			Columns: []string{user.LiveSessionsTeachingColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(livesession.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.LiveSessionsTeachingIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.LiveSessionsTeachingTable,
			Columns: []string{user.LiveSessionsTeachingColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(livesession.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.LiveSessionParticipationsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.LiveSessionParticipationsTable,
			Columns: []string{user.LiveSessionParticipationsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(livesessionstudent.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedLiveSessionParticipationsIDs(); len(nodes) > 0 && !_u.mutation.LiveSessionParticipationsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.LiveSessionParticipationsTable,
			Columns: []string{user.LiveSessionParticipationsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(livesessionstudent.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.LiveSessionParticipationsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.LiveSessionParticipationsTable,
			Columns: []string{user.LiveSessionParticipationsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(livesessionstudent.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.ClassroomSessionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomSessionsTable,
			Columns: []string{user.ClassroomSessionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroomsession.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedClassroomSessionsIDs(); len(nodes) > 0 && !_u.mutation.ClassroomSessionsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomSessionsTable,
			Columns: []string{user.ClassroomSessionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroomsession.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.ClassroomSessionsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.ClassroomSessionsTable,
			Columns: []string{user.ClassroomSessionsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(classroomsession.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.ShenbiSettingsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2O,
			Inverse: false,
			Table:   user.ShenbiSettingsTable,
			Columns: []string{user.ShenbiSettingsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(shenbisettings.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.ShenbiSettingsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2O,
			Inverse: false,
			Table:   user.ShenbiSettingsTable,
			Columns: []string{user.ShenbiSettingsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(shenbisettings.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.SentInvitationsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.SentInvitationsTable,
			Columns: []string{user.SentInvitationsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(organizationinvitation.FieldID, field.TypeInt),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedSentInvitationsIDs(); len(nodes) > 0 && !_u.mutation.SentInvitationsCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.SentInvitationsTable,
			Columns: []string{user.SentInvitationsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(organizationinvitation.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.SentInvitationsIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   user.SentInvitationsTable,
			Columns: []string{user.SentInvitationsColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(organizationinvitation.FieldID, field.TypeInt),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	_node = &User{config: _u.config}
	_spec.Assign = _node.assignValues
	_spec.ScanValues = _node.scanValues
	if err = sqlgraph.UpdateNode(ctx, _u.driver, _spec); err != nil {
		if _, ok := err.(*sqlgraph.NotFoundError); ok {
			err = &NotFoundError{user.Label}
		} else if sqlgraph.IsConstraintError(err) {
			err = &ConstraintError{msg: err.Error(), wrap: err}
		}
		return nil, err
	}
	_u.mutation.done = true
	return _node, nil
}
